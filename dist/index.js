function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=/*#__PURE__*/t(require("animejs/lib/anime.es.js"));module.exports=class{constructor(t){this.options=Object.assign(this.defaultOptions,t)}get defaultOptions(){return{containerID:"img_preview-container",distanceFromCursor:{top:10,left:10}}}get containerID(){return this.options.containerID}get containerClass(){return"img_preview-container"}get containerLoadingClass(){return"img_preview-container__loading"}init(){var t=document.createElement("div");t.setAttribute("id",this.containerID),t.classList.add(this.containerClass),t.append(document.createElement("img")),t.style.display="none",t.style.position="absolute",document.querySelector("body").append(t),this.container=document.querySelector("#"+this.containerID),this.img=this.container.querySelector("img")}run(t){var e=this.filterElements(t),i=this;function r(t){i.container.classList.remove(i.containerLoadingClass),i.img.style.display="",i.onLoad(i.img),t.currentTarget.removeEventListener("load",this)}Array.prototype.forEach.call(e,t=>{t.addEventListener("mousemove",t=>{this.container.style.top=t.pageY+this.options.distanceFromCursor.top+"px",this.container.style.left=t.pageX+this.options.distanceFromCursor.left+"px"}),t.addEventListener("mouseover",t=>{this.container.classList.add(this.containerLoadingClass),this.container.style.display="",this.img.addEventListener("load",{handleEvent:r}),this.img.setAttribute("src",this.extractUrl(t.currentTarget)),this.onShow(this.container,t.currentTarget)}),t.addEventListener("mouseout",t=>{this.container.style.display="none",this.img.setAttribute("src",""),this.img.style.display="none",this.onHide(t.currentTarget)})})}filterElements(t){var e=new RegExp(".(gif|jpe?g|png|bmp|gif?d+|jpe?g?d+|png?d+|bmp?d+)$","i");return[].map.call(t,t=>t).filter((t,i)=>{var r=this.extractUrl(t);return!(!r||!r.match(e))})}extractUrl(t){var e=void 0;return"A"==t.tagName?e=t.getAttribute("data-image"):"IMG"==t.tagName&&(e=t.getAttribute("src")),e}onShow(t,i){e.default.remove(i),e.default({targets:i,opacity:.4,duration:400,easing:"linear"}),e.default.remove(t.querySelector("img")),t.querySelector("img").style.opacity=0}onLoad(t){e.default.remove(t),e.default({targets:t,opacity:1,duration:300,easing:"linear"})}onHide(t){e.default.remove(t),e.default({targets:t,opacity:1,duration:300,easing:"linear"})}};
//# sourceMappingURL=index.js.map
